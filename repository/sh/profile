# Homebrew
if [ -x '/opt/homebrew/bin/brew' ]
then
  export HOMEBREW_NO_ANALYTICS=1
  export HOMEBREW_NO_INSECURE_REDIRECT=1
  export HOMEBREW_CASK_OPTS='--require-sha'
  eval "$(/opt/homebrew/bin/brew shellenv)"
fi

# Flyway
if [ -x '/opt/homebrew/bin/flyway' ]
then
  export REDGATE_DISABLE_TELEMETRY=1
fi

# Go
if [ -x '/opt/homebrew/bin/go' ]
then
  export GOPATH="${HOME}/.go"
  export PATH="${GOPATH}/bin:${PATH}"
fi

# Python
if [ -x '/opt/homebrew/bin/python3' ]
then
  export PATH="$(brew --prefix python)/libexec/bin:${PATH}"
fi

# Rustup
if [ -x '/opt/homebrew/opt/rustup/bin/rustup-init' ]
then
  export PATH="/opt/homebrew/opt/rustup/bin:${PATH}"
fi

# Use VSCode as the default text editor, except for sudoedit
case "${OSTYPE}" in
  darwin*) alias code='open -b com.microsoft.VSCode "$@"' ;;
esac
export VISUAL='code --new-window --wait'
export EDITOR="${VISUAL}"
export SUDO_EDITOR='vi'

# https://www.freebsd.org/cgi/man.cgi?less(1)
export LESS='--ignore-case --LINE-NUMBERS --RAW-CONTROL-CHARS'
